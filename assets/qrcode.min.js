var QRCode;!function(){function l(a){this.mode=c.MODE_8BIT_BYTE,this.data=a}function n(a,b){this.typeNumber=a,this.errorCorrectLevel=b,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}function m(a){this.totalCount=a.totalCount,this.dataCount=a.dataCount,this.blockList=[];for(var b=0;b<this.totalCount;b++)this.blockList.push(0)}function k(a,b){this.buffer=[],this.length=0,a&&("number"==typeof a?this.put(a,b||8):this.putString(a))}function o(a,b){if(void 0==a.length)throw new Error(a.length+"/"+b);for(var c=0;c<a.length&&0==a[c];)c++;this.num=new Array(a.length-c+b);for(var d=0;d<a.length-c;d++)this.num[d]=a[d+c]}function p(){this.buffer=[],this.length=0}function q(){this.map=[];for(var a=0;8>a;a++)this.map[a]=0;this.length=0}function r(a){this.mode=c.MODE_NUMBER,this.data=a}function s(a){this.mode=c.MODE_ALPHA_NUM,this.data=a}function t(a,b){this.buffer=[],this.length=0,this.put(a,b)}function u(){this.buffer=[],this.length=0}function v(){return{L:1,M:0,Q:3,H:2}}function w(){return{MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}}function x(){return[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]]}function y(a,b){var c=a,g=b,d=0,e=0;if(0==c)e=g,d=0;else{for(;0!=c%2;)c>>=1,d++;for(;0!=g%2;)g>>=1,e++;}return{num:(a>>d)<<e,shift:d}}function z(a,b){var c=[],d=a,b=b;do c.unshift(d%b),d=Math.floor(d/b);while(d>0);return c}function A(a){return"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:".indexOf(a)}function B(a){return a>255?0:a}function C(a,b){return a>>>b&1}function D(a,b){return a<<b|a>>>32-b}function E(a,b){return a>>>b|a<<32-b}function F(a){return a>>>0}function G(a){return a<<24|a>>>8&16711680|a>>>24|a<<8&4278255360}function H(a){return a<<16|a>>>16&4294901760|a>>>16&65535}function I(a){return a<<8|a>>>8&4278255360|a>>>24&255|a<<24&4278190080}function J(a){return a}function K(a){return H(G(a))}function L(a){return a}function M(a,b){return a>>>b^a>>>b<<b}function N(a){return a>>>1^a>>>1<<1}function O(a){return a}function P(a){return a<<1|a>>>31}function Q(a){return a>>>1|a<<31}function R(a){return a}function S(a){return a}var e={};e.stringToBytes=function(a){for(var b=[],c=0;c<a.length;c++){var d=a.charCodeAt(c);d<128?b.push(d):d<2048?(b.push(192|d>>6),b.push(128|63&d)):(55296==(64512&d)&&c+1<a.length&&56320==(64512&a.charCodeAt(c+1))?(d=65536+((1023&d)<<10)+(1023&a.charCodeAt(++c)),b.push(240|d>>18),b.push(128|63&d>>12),b.push(128|63&d>>6),b.push(128|63&d)):(b.push(224|d>>12),b.push(128|63&d>>6),b.push(128|63&d)))}return b};var f={stringToBytes:e.stringToBytes};l.prototype={getLength:function(){return f.stringToBytes(this.data).length},write:function(a){for(var b=f.stringToBytes(this.data),c=0;c<b.length;c++)a.put(b[c],8)}};n.prototype={addData:function(a,b){var c;if(b=b||"Byte",b instanceof Array)c=a;else switch(b){case"Number":c=new r(a);break;case"AlphaNum":c=new s(a);break;case"Byte":default:c=new l(a)}this.dataList.push(c),this.dataCache=null},isDark:function(a,b){if(0>a||this.moduleCount<=a||0>b||this.moduleCount<=b)throw new Error(a+","+b);return this.modules[a][b]},getModuleCount:function(){return this.moduleCount},make:function(){if(this.typeNumber<1){var a=1;for(;a<40&&q.getRSBlocks(a,this.errorCorrectLevel).length<this.dataList.length;)a++;this.typeNumber=a}this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(a,b){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var c=0;c<this.moduleCount;c++){this.modules[c]=new Array(this.moduleCount);for(var d=0;d<this.moduleCount;d++)this.modules[c][d]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeNumber(a),this.setupTypeInfo(a,b),a||this.mapData(this.createData(this.typeNumber,this.errorCorrectLevel),b)},setupPositionProbePattern:function(a,b){for(var c=-1;7>=c;c++)if(!(a+c<=-1||this.moduleCount<=a+c))for(var d=-1;7>=d;d++)b+d<=-1||this.moduleCount<=b+d||(this.modules[a+c][b+d]=0<=c&&c<=6&&(0==d||6==d)||0<=d&&d<=6&&(0==c||6==c)||2<=c&&c<=4&&2<=d&&d<=4?!0:!1)},getBestMaskPattern:function(){for(var a=0,b=0,c=0;7>=c;c++){this.makeImpl(!0,c);var d=QRCode.Util.getLostPoint(this);(0==c||d<b)&&(b=d,a=c)}return a},setupTimingPattern:function(){for(var a=8;a<this.moduleCount-8;a++)null==this.modules[a][6]&&(this.modules[a][6]=0==a%2,null==this.modules[6][a]&&(this.modules[6][a]=0==a%2))},setupPositionAdjustPattern:function(){for(var a=q.getPatternPosition(this.typeNumber),b=0;b<a.length;b++)for(var c=0;c<a.length;c++){var d=a[b],e=a[c];if(null==this.modules[d][e])for(var f=-2;2>=f;f++)for(var g=-2;2>=g;g++)this.modules[d+f][e+g]=(-2==f||2==f||-2==g||2==g||0==f&&0==g)?!0:!1}},setupTypeNumber:function(a){for(var b=q.getBCHTypeNumber(this.typeNumber),c=0;18>c;c++){var d=!a&&1==(b>>c&1);this.modules[Math.floor(c/3)][c%3+this.moduleCount-8-3]=d,this.modules[c%3+this.moduleCount-8-3][Math.floor(c/3)]=d}},setupTypeInfo:function(a,b){for(var c=this.errorCorrectLevel<<3|b,d=q.getBCHTypeInfo(c),e=0;15>e;e++){var f=!a&&1==(d>>e&1);6>e?this.modules[e][8]=f:8==e?this.modules[e+1][8]=f:9==e?this.modules[this.moduleCount-8][8]=f:this.modules[this.moduleCount-15+e][8]=f;this.modules[8][this.moduleCount-1-e]=f}},createData:function(a,b){for(var c=q.getRSBlocks(a,b),d=new k,e=0;e<this.dataList.length;e++){var f=this.dataList[e];d.put(f.mode,4),d.put(f.getLength(),q.getLengthInBits(f.mode,a)),f.write(d)}for(var g=0,h=0;h<c.length;h++)g+=c[h].dataCount;for(d.getLengthInBits()>8*g&&console.error("code length overflow. ("+d.getLengthInBits()+">"+8*g);d.getLengthInBits()+4<=8*g;)d.put(0,1);for(;d.getLengthInBits()%8!=0;)d.putBit(!1);for(;!(d.getLengthInBits()>=8*g&&d.getLengthInBits()%8==0);)d.put(0,8);return q.createBytes(d,c)},mapData:function(a,b){for(var c=0,d=this.moduleCount-1,e=this.moduleCount-1,f=[],g=0;g<this.moduleCount;g++)for(var h=0;h<this.moduleCount;h++)f.push(this.modules[g][h]);for(var i=q.getMaskFunction(b),j=this.moduleCount-1;j>0;j-=2)for(6==j&&j--;var k=0;k<this.moduleCount;k++){for(var l=this.moduleCount-1-k,m=0;m<2;m++)if(null==this.modules[l][j-m]){var n=!1;c<a.length&&(n=1==(a[c]>>>7&1),a[c]<<=1,0==(a[c]&255)&&(c++));var o=i(l,j-m);this.modules[l][j-m]=o?!n:n}}}};n.PAD0=236,n.PAD1=17,q={};var c=w();q.getPatternPosition=function(a){return x()[a-1]},q.getMaskFunction=function(a){switch(a){case 0:return function(a,b){return 0==(a+b)%2};case 1:return function(a,b){return 0==a%2};case 2:return function(a,b){return 0==b%3};case 3:return function(a,b){return 0==(a+b)%3};case 4:return function(a,b){return 0==(Math.floor(a/2)+Math.floor(b/3))%2};case 5:return function(a,b){return 0==(a*b%2+a*b%3)%2};case 6:return function(a,b){return 0==((a*b%2+a*b%3)%2+a*b%2)%2};case 7:return function(a,b){return 0==((a+b)%2+a*b%3)%2}}},q.getErrorCorrectPolynomial=function(a){for(var b=new o([1],0),c=0;c<a;c++)b=b.multiply(new o([1,q.gexp(c)],0));return b},q.glog=function(a){if(1>a)throw new Error("glog("+a+")");return q.LOG_TABLE[a]},q.gexp=function(a){for(;0>a;)a+=255;for(;a>=256;)a-=255;return q.EXP_TABLE[a]},q.getBCHTypeInfo=function(a){for(var b=a<<10;q.getBCHDigit(b)-q.getBCHDigit(q.G15)>=0;)b^=q.G15<<(q.getBCHDigit(b)-q.getBCHDigit(q.G15));return a<<10|b},q.getBCHTypeNumber=function(a){for(var b=a<<12;q.getBCHDigit(b)-q.getBCHDigit(q.G18)>=0;)b^=q.G18<<(q.getBCHDigit(b)-q.getBCHDigit(q.G18));return a<<12|b},q.getBCHDigit=function(a){for(var b=0;0!=a;)b++,a>>>=1;return b},q.getRSBlocks=function(a,b){var c=q.RS_BLOCK_TABLE[4*(a-1)+b],d=c.length/3;if(!d)throw new Error("bad rs block @ typeNumber:"+a+"/errorCorrectLevel:"+b);for(var e=[],f=0;f<d;f++)for(var g=c[3*f+0],h=c[3*f+1],i=c[3*f+2],j=0;j<g;j++)e.push(new m({totalCount:h,dataCount:i}));return e},q.createBytes=function(a,b){for(var c=0,d=0,e=0;e<b.length;e++)d+=b[e].dataCount;for(var f=new k,g=0;g<d;g++)f.put(a.buffer[g],8);var h=b.length,i=0,j=0;for(e=0;e<h;e++){var l=b[e].dataCount;for(g=0;g<l;g++){var n=f.buffer[e*l+g];b[e].blockList[g]=n,i=Math.max(i,n)}}for(var o=0;o<i;o++)for(e=0;e<h;e++){var p=b[e];o<p.blockList.length&&(a.buffer[c]=p.blockList[o],c++)}return a.buffer},q.LOG_TABLE=new Array(256),q.EXP_TABLE=new Array(256);for(var d=0;8>d;d++)q.EXP_TABLE[d]=1<<d;for(d=8;256>d;d++)q.EXP_TABLE[d]=q.EXP_TABLE[d-4]^q.EXP_TABLE[d-5]^q.EXP_TABLE[d-6]^q.EXP_TABLE[d-8];for(d=0;255>d;d++)q.LOG_TABLE[q.EXP_TABLE[d]]=d;q.G15=1335,q.G18=7973,q.RS_BLOCK_TABLE=[1,26,19,0,1,26,16,0,1,26,13,0,1,26,9,0,1,44,34,0,1,44,28,0,1,44,22,0,1,44,16,0,1,70,55,0,1,70,44,0,1,70,34,0,1,70,24,0,2,50,32,0,2,50,26,0,2,50,20,0,2,50,14,0,2,32,24,0,2,32,18,0,2,32,14,0,2,32,10,0,4,40,24,0,4,40,18,0,4,40,14,0,4,40,10,0,4,26,16,0,4,26,12,0,4,26,9,0,4,26,6,0,4,26,18,2,2,26,16,2,2,26,12,4,4,26,9,2,1,120,80,0,1,120,64,0,1,120,48,0,1,120,36,0,2,80,48,0,2,80,38,0,2,80,28,0,2,80,20,0,2,96,64,0,2,96,52,0,2,96,40,0,2,96,30,0,2,96,64,2,4,96,52,2,4,96,40,2,4,96,30,2,4,98,60,2,2,98,42,2,2,98,32,4,4,98,24,2,4,107,68,2,4,107,50,4,6,107,36,2,6,107,28,4,2,116,74,2,4,116,58,4,6,116,44,4,8,116,36,4,4,107,68,2,4,107,54,4,8,107,36,4,10,107,28,4,1,115,70,4,1,115,56,6,2,115,42,4,2,115,24,4,3,122,80,2,3,122,58,4,11,122,36,4,11,122,24,4],QRCode=n,QRCode.stringToBytes=function(a){return f.stringToBytes(a)},QRCode.CorrectLevel=v(),QRCode.QRMode=c}();
